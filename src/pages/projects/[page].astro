---
import type { GetStaticPaths } from 'astro';
import Layout from '@layouts/Layout.astro';

export const getStaticPaths =(async ({ paginate }) => {
  const astronautPages = [{
    astronaut: 'Neil Armstrong',
  }, {
    astronaut: 'Buzz Aldrin',
  }, {
    astronaut: 'Sally Ride',
  }, {
    astronaut: 'John Glenn',
  }];
  // Generate pages from our array of astronauts, with 2 to a page
  return paginate(astronautPages, { pageSize: 2 });
}) satisfies GetStaticPaths ;
// All paginated data is passed on the "page" prop
const { page } = Astro.props;
---

<!--Display the current page number. Astro.params.page can also be used!-->
<Layout title=`Welcome to Astro. Projects Page ${page.currentPage}` description="Home page">
  <h1>Page {page.currentPage}</h1>
  <ul>
    <!--List the array of astronaut info-->
    {page.data.map(({ astronaut }) => <li>{astronaut}</li>)}
  </ul>
</Layout>